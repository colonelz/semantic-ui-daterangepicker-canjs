<!-- CSS is build from semantic-ui-less with the default theme. It includes `definitions/modules/popup` and `definitions/modules/transition`.-->

<style>.demo{padding:10px 20px}.demo p{margin-top:50px}.demo .vertical.menu.popup{padding:0!important}</style>

<script type="text/stache" id="demo" can-autorender>
  <can-import from="semantic-ui-css/semantic.min.css" />
  <can-import from="date-range-picker" />

  <div class="demo">

    <h3>Default Date Range Picker</h3>
    <input type="text" semantic-daterangepicker/>

    <h3>Customize start and end date</h3>
    <input type="text" semantic-daterangepicker
      start-date="1/1/2010"
      end-date="2/28/2010"/>

    <h3>Disable selection of dates before or after a certain date</h3>
    <input type="text" semantic-daterangepicker
      start-date="1/5/2010"
      end-date="2/15/2010"
      min-date="1/5/2010"
      max-date="2/15/2010"/>

    <h3>Use as a single date picker with special formatting and live binding</h3>
    <span>Date: {{date}}</span>
    <input type="text" semantic-daterangepicker
      start-date="Jan 5 2016"
      end-date="Feb 5 2016"
      format="MMM D Y"
      single="true"
      {($value)}="formattedDate"/>

  </div>
</script>

<!-- The data for the above template. -->
<script src="../node_modules/steal/steal.js" main="can/view/autorender/">
  import Map from 'can/map/';
  import 'can/map/define/';
  import moment from 'moment';

  let DateMap = Map.extend({
    define: {
      date: {
        value: new Date()
      },

      formattedDate: {
        get(){
          let date = this.attr('date');
          return moment(date).format('MMM D Y');
        },
        set(val){
          let date = moment(val);
          // If an invalid date is set, set it to today's date.
          if (date.toString() === 'Invalid date') {
            return this.attr('formattedDate', moment());
          }
          this.attr('date', date);
          return val;
        }
      }
    }
  });

  let dateMap = new DateMap();

  $('#demo').viewModel(dateMap).attr(dateMap);
</script>
